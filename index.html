<!DOCTYPE html>
<html lang="en">
<head>
<!--<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>-->
<script src="Stream.js"></script>
<script src="Tree.js"></script>

<script>
var formatString = '\\bibitem<blah> [@{au.F},~@{au.Von}.,~@{au.Last}|No title provided]';

BiblioTeX.macros['name'] = '\t[[@{au.F}.~[@{au.V}.~]]@{au.Last}],';
BiblioTeX.macros['title'] = '\t[@{Title},]';
BiblioTeX.macros['intro'] = '\\bibitem';
BiblioTeX.macros['journal'] = '[\t\\emph{@{journal}}[~\\textbf{@{volume}}][ (@{year})][ @{pg.start}--@{pg.end}].]';
BiblioTeX.macros['article'] = '#intro\n#name\n#title\n#journal';
console.log(BiblioTeX.evaluate(BiblioTeX.parse('#article'),
            { 'author': { 'first' : 'Antonio', 'last' : 'Vera-L\\\'opez' },
            'title': 'Conjugacy classes in Sylow $p$-subgroups of $\\mathop{GL}(n, q)$',
            'journal': 'Linear Algebra Appl.',
            'volume': 370,
            'year': 2003,
            'pg': {'start': 85, 'end': 124}
            }));
</script>
</head>
<body>
</body>
</html>
